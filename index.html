<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Feliz Año Nuevo </title>
  
  <style>
    body {
      margin: 0;
      padding: 0;
      background: black;
      color: white;
      font-family: 'Arial', sans-serif;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      position: relative;
    }

    body::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: transparent url("https://www.transparenttextures.com/patterns/stardust.png") repeat;
      z-index: -2;
    }

    canvas {
      position: absolute;
      top: 0;
      left: 0;
      z-index: -1;
    }

    h1,
    h2,
    h3 {
      margin: 15px 0;
      opacity: 0;
      transform: translateY(50px);
      animation: fadeUp 1s forwards;
      text-align: center;
    }

   h1 {
  font-size: 2.5rem;
  animation-delay: 0.5s;
  color: yellow;
  text-shadow: 
    0 0 10px yellow,
    0 0 20px gold,
    0 0 40px orange;
}

h2 {
  font-size: 2rem;
  animation-delay: 1.5s;
  color: #ffffff;
  text-shadow: 
    0 0 10px #ffffff,
    0 0 20px #cccccc,
    0 0 35px #999999;
}

h3 {
  font-size: 1.5rem;
  animation-delay: 2.5s;
  color: #f0ddff;
  text-shadow: 
    0 0 10px #d9b3ff,
    0 0 20px #c48aff,
    0 0 35px #9933ff;
}

    @keyframes fadeUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    button {
      margin-top: 40px;
      padding: 15px 70px;
      font-size: 1.2rem;
      border: 2px solid purple;
      border-radius: 6px;
      background: transparent;
      color: #b300ff;
      cursor: pointer;
      opacity: 0;
      transform: translateY(50px);
      text-transform: uppercase;
      font-weight: bold;
      animation: fadeUp 1s forwards, glowPurple 2s infinite alternate, borderGlow 2s infinite alternate;
      animation-delay: 3.5s;
    }

    button:hover {
      background: rgba(128, 0, 128, 0.2);
      transform: scale(1.08);
    }

    @keyframes glowPurple {
      from {
        text-shadow: 0 0 10px purple, 0 0 20px violet, 0 0 40px magenta;
      }

      to {
        text-shadow: 0 0 20px violet, 0 0 40px purple, 0 0 60px white;
      }
    }

    @keyframes borderGlow {
      from {
        box-shadow: 0 0 10px purple, 0 0 20px violet;
      }

      to {
        box-shadow: 0 0 20px violet, 0 0 40px purple, 0 0 60px magenta;
      }
    }
  </style>
</head>

<body>
  <canvas id="fireworks"></canvas>

  <h1>FELIZ AÑO NUEVO</h1>
  <h2>PARA MARILIN</h2>
  <h3>TENGO UN DETALLE ESPECIAL PARA TI</h3>
  <button onclick="irAlRegalo()">Ver detalle</button>

  <script>
  function irAlRegalo() {
    window.location.href = "carta.html";
  }

  const canvas = document.getElementById('fireworks');
  const ctx = canvas.getContext('2d');
  let particles = [];

  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  });

  // ================================
  //  FUEGO ARTIFICIAL ALEATORIO
  // ================================
  function createFirework() {
    const x = Math.random() * canvas.width;
    const y = Math.random() * canvas.height / 2;
    const colors = ['#FF1493', '#FFD700', '#00BFFF', '#ADFF2F', '#FF4500', '#9400D3'];
    const count = 50 + Math.random() * 50;

    for (let i = 0; i < count; i++) {
      particles.push({
        x: x,
        y: y,
        radius: 2 + Math.random() * 2,
        color: colors[Math.floor(Math.random() * colors.length)],
        angle: Math.random() * 2 * Math.PI,
        speed: Math.random() * 5 + 1,
        alpha: 1
      });
    }
  }

  // ================================
  //  FUEGO ARTIFICIAL EN EL CLIC
  // ================================
  function createFireworkAtPoint(x, y) {
    const colors = ['#FF1493', '#FFD700', '#00BFFF', '#ADFF2F', '#FF4500', '#9400D3'];
    const count = 60 + Math.random() * 40;

    for (let i = 0; i < count; i++) {
      particles.push({
        x: x,
        y: y,
        radius: 2 + Math.random() * 2,
        color: colors[Math.floor(Math.random() * colors.length)],
        angle: Math.random() * 2 * Math.PI,
        speed: Math.random() * 5 + 1,
        alpha: 1
      });
    }
  }

  // Detecta clic en cualquier parte de la pantalla
  document.addEventListener("click", function (e) {
    createFireworkAtPoint(e.clientX, e.clientY);
  });

  // ================================
  //  SISTEMA DE PARTÍCULAS
  // ================================
  function updateParticles() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    particles.forEach((p, i) => {
      p.x += Math.cos(p.angle) * p.speed;
      p.y += Math.sin(p.angle) * p.speed;
      p.alpha -= 0.01;

      if (p.alpha <= 0) particles.splice(i, 1);
      else {
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(${hexToRgb(p.color)},${p.alpha})`;
        ctx.fill();
      }
    });
  }

  // Convierte colores HEX a RGB
  function hexToRgb(hex) {
    let c = hex.replace('#', '');
    if (c.length === 3) c = c.split('').map(ch => ch + ch).join('');
    const bigint = parseInt(c, 16);
    const r = (bigint >> 16) & 255;
    const g = (bigint >> 8) & 255;
    const b = bigint & 255;
    return `${r},${g},${b}`;
  }

  function animate() {
    updateParticles();
    requestAnimationFrame(animate);
  }

  // Fuegos artificiales automáticos
  setInterval(createFirework, 800);

  animate();
</script>

</body>

</html>
